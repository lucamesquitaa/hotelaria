"use strict";(self.webpackChunkhotelaria=self.webpackChunkhotelaria||[]).push([[567],{5567:(L,a,i)=>{i.r(a),i.d(a,{LoginModule:()=>v});var c=i(2881),m=i(5207),u=i(467),r=i(4341),l=i(125),t=i(1360),p=i(2987);let d=(()=>{class o extends p.j{constructor(e){super(e),this.injector=e,this.urlServiceREST="https://hotelaria-vstudio2022-54700728866.us-central1.run.app/api/Login"}doLogin(e){return this.http.post(this.urlServiceREST,e)}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const f=[{path:"",component:(()=>{class o extends l.x{constructor(e,n){super(e),this.injector=e,this.loginService=n,this.formGroup=new r.gE({username:new r.MJ("",[r.k0.required]),password:new r.MJ("",[r.k0.required,r.k0.minLength(6),r.k0.maxLength(20)])})}ngAfterViewInit(){}onLoginSubmit(e){var n=this;return(0,u.A)(function*(){n.loginService.doLogin(e.value).subscribe({next:s=>{n.cookieService.set("access_token",s.token,{expires:7,path:"/"})},error:s=>{n.toastr.error("Erro ao realizar autentica\xe7\xe3o.")},complete:()=>{n.router.navigate(["admin"])}})})()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(t.zZn),t.rXU(d))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-login"]],standalone:!1,features:[t.Vt3],decls:15,vars:1,consts:[[1,"formLogin"],[1,"formLogin",3,"ngSubmit","formGroup"],[1,"col-lg-6","col-md-12","primeiroFormCustom"],["for","username",1,"form-label"],["type","username","formControlName","username",1,"form-control"],[1,"col-lg-6","col-md-12"],["for","password",1,"form-label"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"h4"),t.EFF(2,"Login"),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return s.onLoginSubmit(s.formGroup)}),t.j41(4,"div",2)(5,"label",3),t.EFF(6,"Username"),t.k0s(),t.nrm(7,"input",4),t.k0s(),t.j41(8,"div",5)(9,"label",6),t.EFF(10,"Senha"),t.k0s(),t.nrm(11,"input",7),t.k0s(),t.nrm(12,"hr"),t.j41(13,"button",8),t.EFF(14,"Login"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("formGroup",s.formGroup))},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:[".formLogin[_ngcontent-%COMP%]{display:flex;margin:0 auto;padding-top:50px;flex-direction:column;align-items:center;justify-content:center;width:100%}"]})}}return o})()}];let g=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(f),m.iI]})}}return o})();var h=i(3887);let v=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[c.MD,h.G,g]})}}return o})()}}]);